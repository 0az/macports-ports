# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                gtk-vnc
version             0.7.0
maintainers         {danchr @danchr} openmaintainer
categories          devel
license             {LGPL GPL-3}
platforms           darwin
description         VNC viewer widget for GTK

long_description    gtk-vnc is a VNC viewer widget for GTK. It is built using \
                    coroutines allowing it to be completely asynchronous  \
                    while remaining single threaded. It provides a core C  \
                    library, and bindings for Python (PyGTK). \
                    \
                    GTK-VNC supports a number of VNC extensions aimed at  \
                    improving the user experience, particularly when  \
                    interacting with virtual machines.

homepage            https://wiki.gnome.org/Projects/gtk-vnc

set branch          [join [lrange [split ${version} .] 0 1] .]
master_sites        gnome:sources/${name}/${branch}

use_xz              yes

checksums           rmd160  07d8c5bed7dd5698aa75fa231a7ecf2fda3f3771 \
                    sha256  3c2eae7c9053338939a32c9987156a12b802ffd5c7f80702ba8d483dfc6d483e

depends_build       port:pkgconfig \
                    port:intltool \
                    port:vala

depends_lib         port:gtk3 \
                    port:gnutls \
                    port:libgcrypt \
                    port:pulseaudio

# for ucontext
configure.cppflags-append \
                -D_XOPEN_SOURCE

livecheck.type      gnome
