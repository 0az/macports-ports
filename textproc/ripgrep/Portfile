# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           cargo 1.0

github.setup        BurntSushi ripgrep 0.7.1
categories          textproc
platforms           darwin
maintainers         {raimue @raimue} \
                    openmaintainer
license             MIT

description         fast command line search tool
long_description    ripgrep is a command line search tool that combines the \
                    usability of The Silver Searcher (an ack clone) with the \
                    raw speed of GNU grep.

cargo.crates \
    aho-corasick             0.6.3  500909c4f87a9e52355b26626d890833e9e1d53ac566db76c36faa984b889699 \
    ansi_term                0.9.0  23ac7c30002a5accbf7e8987d0632fa6de155b7c3d39d0067317a391e00a2ef6 \
    atty                     0.2.3  21e50800ec991574876040fff8ee46b136a53e985286fbe6a3bdfe6421b78860 \
    bitflags                 0.9.1  4efd02e230a02e18f92fc2735f44597385ed02ad8f831e7c1c1156ee5e1ab3a5 \
    bytecount                0.1.7  4bbeb7c30341fce29f6078b4bdf876ea4779600866e98f5b2d203a534f195050 \
    cfg-if                   0.1.2  d4c819a1287eb618df47cc647173c5c4c66ba19d888a6e50d605672aed3140de \
    clap                    2.26.2  3451e409013178663435d6f15fdb212f14ee4424a3d74f979d081d0a66b6f1f2 \
    crossbeam               0.2.10  0c5ea215664ca264da8a9d9c3be80d2eaf30923c259d03e870388eb927508f97 \
    encoding_rs              0.7.1  f5215aabf22b83153be3ee44dfe3f940214541b2ce13d419c55e7a115c8c51a9 \
    env_logger               0.4.3  3ddf21e73e016298f5cb37d6ef8e8da8e39f91f9ec8b0df44b7deb16a9f8cd5b \
    fnv                      1.0.5  6cc484842f1e2884faf56f529f960cc12ad8c71ce96cc7abba0a067c98fee344 \
    fs2                      0.4.2  9ab76cfd2aaa59b7bf6688ad9ba15bbae64bff97f04ea02144cfd3443e5c2866 \
    kernel32-sys             0.2.2  7507624b29483431c0ba2d82aece8ca6cdba9382bff4ddd0f7490560c056098d \
    lazy_static              0.2.9  c9e5e58fa1a4c3b915a561a78a22ee0cac6ab97dca2504428bc1cb074375f8d5 \
    libc                    0.2.32  56cce3130fd040c28df6f495c8492e5ec5808fb4c9093c310df02b0c8f030148 \
    log                      0.3.8  880f77541efa6e5cc74e76910c9884d9859683118839d6a1dc3b11e63512565b \
    memchr                   1.0.2  148fab2e51b4f1cfc66da2a7c32981d1d3c083a803978268bb11fe4b86925e7a \
    memchr                   2.0.0  e01e64d9017d18e7fc09d8e4fe0e28ff6931019e979fb8019319db7ca827f8a6 \
    memmap                   0.5.2  46f3c7359028b31999287dae4e5047ddfe90a23b7dca2282ce759b491080c99b \
    num_cpus                 1.7.0  514f0d73e64be53ff320680ca671b64fe3fb91da01e1ae2ddc99eb51d453b20d \
    redox_syscall           0.1.31  8dde11f18c108289bef24469638a04dce49da56084f2d50618b226e47eb04509 \
    redox_termios            0.1.1  7e891cfe48e9100a70a3b6eb652fef28920c117d366339687bd5576160db0f76 \
    regex                    0.2.2  1731164734096285ec2a5ec7fea5248ae2f5485b3feeb0115af4fda2183b2d1b \
    regex-syntax             0.4.1  ad890a5eef7953f55427c50575c680c42841653abd2b028b68cd223d157f62db \
    same-file                1.0.0  70a18720d745fb9ca6a041b37cb36d0b21066006b6cff8b5b360142d4b81fb60 \
    simd                     0.2.0  7a94d14a2ae1f1f110937de5fb69e494372560181c7e1739a097fcc2cee37ba0 \
    simd                     0.1.1  63b5847c2d766ca7ce7227672850955802fabd779ba616aeabead4c2c3877023 \
    strsim                   0.6.0  b4d15c810519a91cf877e7e36e63fe068815c678181439f2f29e2562147c3694 \
    term_size                0.3.0  e2b6b55df3198cc93372e85dd2ed817f0e38ce8cc0f22eb32391bfad9c4bf209 \
    termion                  1.5.1  689a3bdfaab439fd92bc87df5c4c78417d3cbe537487274e9b0b2dce76e92096 \
    textwrap                 0.8.0  df8e08afc40ae3459e4838f303e465aa50d823df8d7f83ca88108f6d3afe7edd \
    thread_local             0.3.4  1697c4b57aeeb7a536b647165a2825faddffb1d3bad386d507709bd51a90bb14 \
    unicode-width            0.1.4  bf3a113775714a22dcb774d8ea3655c53a32debae63a063acc00a91cc586245f \
    unreachable              1.0.0  382810877fe448991dfc7f0dd6e3ae5d58088fd0ea5e35189655f84e6814fa56 \
    utf8-ranges              1.0.0  662fab6525a98beff2921d7f61a39e7d59e0b425ebc7d0d9e66d316e55124122 \
    vec_map                  0.8.0  887b5b631c2ad01628bbbaa7dd4c869f80d3186688f8d0b6f58774fbe324988c \
    void                     1.0.2  6a02e4885ed3bc0f2de90ea6dd45ebcbb66dacffe03547fadbb0eeae2770887d \
    walkdir                  2.0.1  40b6d201f4f8998a837196b6de9c73e35af14c992cbb92c4ab641d2c2dce52de \
    winapi                   0.2.8  167dc9d6949a9b857f3451275e911c3f44255842c1f7a76f33c55103a909087a \
    winapi-build             0.1.1  2d315eee3b34aca4797b2da6b13ed88266e6d612562a0c46390af8299fc699bc

checksums-append    ${distname}${extract.suffix} \
                    rmd160  edd3a42fc37cb9ace4bfad6e89bec888c54222b3 \
                    sha256  bcc52523a375172716cb0e47d72d3b8ae0a345c7d3e6fcdd9674e935969f4960

destroot {
    xinstall -m 755 ${worksrcpath}/target/release/rg ${destroot}${prefix}/bin/
    ln -s rg ${destroot}${prefix}/bin/ripgrep
    xinstall -m 444 ${worksrcpath}/doc/rg.1 ${destroot}${prefix}/share/man/man1/
}
