PortSystem 1.0

name		bdes
version		4.7-RELEASE
revision            2
categories	sysutils
license		BSD
maintainers	nomaintainer
description	Block-based DES cipher utility
long_description	${description}
homepage	https://www.cs.dartmouth.edu/~trdata/reports/abstracts/TR91-158/
platforms	darwin
use_bzip2	yes
master_sites	macports
checksums	md5 7b83cf1258bd73784ce70629dcad17c5
depends_lib         port:libcipher
build.type	bsd
worksrcdir	${name}

patchfiles          patch-Makefile \
                    bdes.c.patch

use_configure       no

variant universal {}

build.args          CC="${configure.cc}" \
                    CFLAGS="${configure.cflags} [get_canonical_archflags cc]" \
                    LDFLAGS="${configure.ldflags} [get_canonical_archflags ld]"

destroot {
    xinstall -m 0755 ${worksrcpath}/bdes ${destroot}${prefix}/bin
    xinstall -m 0644 ${worksrcpath}/bdes.1.gz ${destroot}${prefix}/share/man/man1
    xinstall -m 0644 ${worksrcpath}/bdes.ps ${destroot}${prefix}/share/doc
}

notes {
    The DES cipher should no longer be considered secure. Please consider\
    using a more modern alternative.
}
